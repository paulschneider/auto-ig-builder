"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const FshEntity_1 = require("./FshEntity");
const CodeSystemDuplicateCodeError_1 = require("../errors/CodeSystemDuplicateCodeError");
const rules_1 = require("./rules");
/**
 * For more information about a CodeSystem in FHIR,
 * @see {@link http://hl7.org/fhir/codesystem-definitions.html}
 */
class FshCodeSystem extends FshEntity_1.FshEntity {
    constructor(name) {
        super();
        this.name = name;
        this.id = name;
        this.rules = [];
    }
    addConcept(newConcept) {
        if (this.rules.find(rule => rule instanceof rules_1.ConceptRule && rule.code == newConcept.code)) {
            throw new CodeSystemDuplicateCodeError_1.CodeSystemDuplicateCodeError(this.id, newConcept.code);
        }
        this.rules.push(newConcept);
    }
}
exports.FshCodeSystem = FshCodeSystem;
//# sourceMappingURL=FshCodeSystem.js.map